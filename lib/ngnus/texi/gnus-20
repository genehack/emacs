Info file: gnus,    -*-Text-*-
produced by `texinfo-format-buffer'
from file `gnus.texi'
using `texinfmt.el' version 2.42 of  7 Jul 2006.

Copyright (C) 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003,
2004, 2005, 2006, 2007, 2008 Free Software Foundation, Inc.

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.2 or any later version published by the Free Software
     Foundation; with no Invariant Sections, with the Front-Cover
     texts being "A GNU Manual", and with the Back-Cover Texts as in
     (a) below.  A copy of the license is included in the section
     entitled "GNU Free Documentation License" in the Emacs manual.

     (a) The FSF's Back-Cover Text is: "You have freedom to copy and
     modify this GNU Manual, like GNU software.  Copies published by
     the Free Software Foundation raise funds for GNU development."

     This document is part of a collection distributed under the GNU
     Free Documentation License.  If you want to distribute this
     document separately from the collection, you can do so by adding
     a copy of the license to the document, as described in section 6
     of the license.



INFO-DIR-SECTION Emacs
START-INFO-DIR-ENTRY
* Gnus: (gnus).         The newsreader Gnus.
END-INFO-DIR-ENTRY








File: gnus, Node: Emacs/XEmacs Code, Next: Various File Formats, Prev: Extended Interactive, Up: Gnus Reference Guide

Emacs/XEmacs Code
-----------------

While Gnus runs under Emacs, XEmacs and Mule, I decided that one of
the platforms must be the primary one.  I chose Emacs.  Not because I
don't like XEmacs or Mule, but because it comes first alphabetically.

This means that Gnus will byte-compile under Emacs with nary a
warning, while XEmacs will pump out gigabytes of warnings while
byte-compiling.  As I use byte-compilation warnings to help me root
out trivial errors in Gnus, that's very useful.

I've also consistently used Emacs function interfaces, but have used
Gnusey aliases for the functions.  To take an example: Emacs defines a
`run-at-time' function while XEmacs defines a `start-itimer' function.
I then define a function called `gnus-run-at-time' that takes the same
parameters as the Emacs `run-at-time'.  When running Gnus under Emacs,
the former function is just an alias for the latter.  However, when
running under XEmacs, the former is an alias for the following
function:

     (defun gnus-xmas-run-at-time (time repeat function &rest args)
       (start-itimer
        "gnus-run-at-time"
        `(lambda ()
           (,function ,@args))
        time repeat))

This sort of thing has been done for bunches of functions.  Gnus does
not redefine any native Emacs functions while running under XEmacs--it
does this `defalias' thing with Gnus equivalents instead.  Cleaner all
over.

In the cases where the XEmacs function interface was obviously
cleaner, I used it instead.  For example `gnus-region-active-p' is an
alias for `region-active-p' in XEmacs, whereas in Emacs it is a
function.

Of course, I could have chosen XEmacs as my native platform and done
mapping functions the other way around.  But I didn't.  The
performance hit these indirections impose on Gnus under XEmacs should
be slight.




File: gnus, Node: Various File Formats, Prev: Emacs/XEmacs Code, Up: Gnus Reference Guide

Various File Formats
--------------------

* Menu:

* Active File Format::          Information on articles and groups available.
* Newsgroups File Format::      Group descriptions.




File: gnus, Node: Active File Format, Next: Newsgroups File Format, Prev: Various File Formats, Up: Various File Formats

Active File Format
..................

The active file lists all groups available on the server in question.
It also lists the highest and lowest current article numbers in each
group.

Here's an excerpt from a typical active file:

     soc.motss 296030 293865 y
     alt.binaries.pictures.fractals 3922 3913 n
     comp.sources.unix 1605 1593 m
     comp.binaries.ibm.pc 5097 5089 y
     no.general 1000 900 y

Here's a pseudo-BNF definition of this file:

     active      = *group-line
     group-line  = group spc high-number spc low-number spc flag <NEWLINE>
     group       = <non-white-space string>
     spc         = " "
     high-number = <non-negative integer>
     low-number  = <positive integer>
     flag        = "y" / "n" / "m" / "j" / "x" / "=" group

For a full description of this file, see the manual pages for
`innd', in particular `active(5)'.




File: gnus, Node: Newsgroups File Format, Prev: Active File Format, Up: Various File Formats

Newsgroups File Format
......................

The newsgroups file lists groups along with their descriptions.  Not
all groups on the server have to be listed, and not all groups in the
file have to exist on the server.  The file is meant purely as
information to the user.

The format is quite simple; a group name, a tab, and the description.
Here's the definition:

     newsgroups    = *line
     line          = group tab description <NEWLINE>
     group         = <non-white-space string>
     tab           = <TAB>
     description   = <string>




File: gnus, Node: Emacs for Heathens, Prev: Gnus Reference Guide, Up: Appendices

Emacs for Heathens
==================

Believe it or not, but some people who use Gnus haven't really used
Emacs much before they embarked on their journey on the Gnus Love
Boat.  If you are one of those unfortunates whom "`C-M-a'", "kill the
region", and "set `gnus-flargblossen' to an alist where the key is a
regexp that is used for matching on the group name" are magical
phrases with little or no meaning, then this appendix is for you.  If
you are already familiar with Emacs, just ignore this and go fondle
your cat instead.

* Menu:

* Keystrokes::                  Entering text and executing commands.
* Emacs Lisp::                  The built-in Emacs programming language.




File: gnus, Node: Keystrokes, Next: Emacs Lisp, Prev: Emacs for Heathens, Up: Emacs for Heathens

Keystrokes
----------

   * Q: What is an experienced Emacs user?

   * A: A person who wishes that the terminal had pedals.

Yes, when you use Emacs, you are apt to use the control key, the shift
key and the meta key a lot.  This is very annoying to some people
(notably `vi'le users), and the rest of us just love the hell out of
it.  Just give up and submit.  Emacs really does stand for
Escape-Meta-Alt-Control-Shift", and not "Editing Macros", as you may
have heard from other disreputable sources (like the Emacs author).

The shift keys are normally located near your pinky fingers, and are
normally used to get capital letters and stuff.  You probably use it
all the time.  The control key is normally marked "CTRL" or something
like that.  The meta key is, funnily enough, never marked as such on
any keyboard.  The one I'm currently at has a key that's marked "Alt",
which is the meta key on this keyboard.  It's usually located
somewhere to the left hand side of the keyboard, usually on the bottom
row.

Now, us Emacs people don't say "press the meta-control-m key", because
that's just too inconvenient.  We say "press the `C-M-m' key".  `M-'
is the prefix that means "meta" and "C-" is the prefix that means
control".  So "press `C-k'" means "press down the control key, and
hold it down while you press `k'".  "Press `C-M-k'" means "press down
and hold down the meta key and the control key and then press `k'".
Simple, ay?

This is somewhat complicated by the fact that not all keyboards have a
meta key.  In that case you can use the "escape" key.  Then `M-k'
means "press escape, release escape, press `k'".  That's much more
work than if you have a meta key, so if that's the case, I
respectfully suggest you get a real keyboard with a meta key.  You
can't live without it.





File: gnus, Node: Emacs Lisp, Prev: Keystrokes, Up: Emacs for Heathens

Emacs Lisp
----------

Emacs is the King of Editors because it's really a Lisp interpreter.
Each and every key you tap runs some Emacs Lisp code snippet, and
since Emacs Lisp is an interpreted language, that means that you can
configure any key to run any arbitrary code.  You just, like, do it.

Gnus is written in Emacs Lisp, and is run as a bunch of interpreted
functions.  (These are byte-compiled for speed, but it's still
interpreted.)  If you decide that you don't like the way Gnus does
certain things, it's trivial to have it do something a different way.
(Well, at least if you know how to write Lisp code.)  However, that's
beyond the scope of this manual, so we are simply going to talk about
some common constructs that you normally use in your `~/.gnus.el'
file to customize Gnus.  (You can also use the `~/.emacs' file, but
in order to set things of Gnus up, it is much better to use the
`~/.gnus.el' file, *Note Startup Files::.)

If you want to set the variable `gnus-florgbnize' to four (4), you
write the following:

     (setq gnus-florgbnize 4)

This function (really "special form") `setq' is the one that can set a
variable to some value.  This is really all you need to know.  Now you
can go and fill your `~/.gnus.el' file with lots of these to change
how Gnus works.

If you have put that thing in your `~/.gnus.el' file, it will be read
and `eval'ed (which is Lisp-ese for "run") the next time you start
Gnus.  If you want to change the variable right away, simply say `C-x
C-e' after the closing parenthesis.  That will `eval' the previous
form", which is a simple `setq' statement here.

Go ahead--just try it, if you're located at your Emacs.  After you
`C-x C-e', you will see `4' appear in the echo area, which is the
return value of the form you `eval'ed.

Some pitfalls:

If the manual says "set `gnus-read-active-file' to `some'", that
means:

     (setq gnus-read-active-file 'some)

On the other hand, if the manual says "set `gnus-nntp-server' to
`nntp.ifi.uio.no'", that means:

     (setq gnus-nntp-server "nntp.ifi.uio.no")

So be careful not to mix up strings (the latter) with symbols (the
former).  The manual is unambiguous, but it can be confusing.




File: gnus, Node: Frequently Asked Questions

Frequently Asked Questions
==========================

* Menu:

* FAQ - Changes::
* FAQ - Introduction::                       About Gnus and this FAQ.
* FAQ 1 - Installation FAQ::                 Installation of Gnus.
* FAQ 2 - Startup / Group buffer::           Start up questions and the
                                             first buffer Gnus shows you.
* FAQ 3 - Getting Messages::                 Making Gnus read your mail
                                             and news.
* FAQ 4 - Reading messages::                 How to efficiently read
                                             messages.
* FAQ 5 - Composing messages::               Composing mails or Usenet
                                             postings.
* FAQ 6 - Old messages::                     Importing, archiving,
                                             searching and deleting messages.
* FAQ 7 - Gnus in a dial-up environment::    Reading mail and news while
                                             offline.
* FAQ 8 - Getting help::                     When this FAQ isn't enough.
* FAQ 9 - Tuning Gnus::                      How to make Gnus faster.
* FAQ - Glossary::                           Terms used in the FAQ
                                             explained.


Abstract
--------

This is the new Gnus Frequently Asked Questions list.
If you have a Web browser, the official hypertext version is at
`http://my.gnus.org/FAQ/',
the Docbook source is available from
http://sourceforge.net (http://sourceforge.net/projects/gnus/).

Please submit features and suggestions to the FAQ discussion list
<faq-discuss@my.gnus.org>.  The list is protected against junk mail
with qconfirm (http://smarden.org/qconfirm/index.html). As a
subscriber, your submissions will automatically pass.  You can also
subscribe to the list by sending a blank email to
faq-discuss-subscribe@my.gnus.org <faq-discuss-subscribe@my.gnus.org>
and browse the archive (BROKEN)
(http://mail1.kens.com/cgi-bin/ezmlm-browse?command=monthbythread%26list=faq-discuss).



File: gnus, Node: FAQ - Changes

Changes
-------




   * Updated FAQ to reflect release of Gnus 5.10 and start of No Gnus
     development.



File: gnus, Node: FAQ - Introduction

Introduction
------------

This is the Gnus Frequently Asked Questions list.

Gnus is a Usenet Newsreader and Electronic Mail User Agent implemented
as a part of Emacs. It's been around in some form for almost a decade
now, and has been distributed as a standard part of Emacs for much of
that time. Gnus 5 is the latest (and greatest) incarnation. The
original version was called GNUS, and was written by Masanobu UMEDA.
When autumn crept up in '94, Lars Magne Ingebrigtsen grew bored and
decided to rewrite Gnus.

Its biggest strength is the fact that it is extremely customizable. It
is somewhat intimidating at first glance, but most of the complexity
can be ignored until you're ready to take advantage of it. If you
receive a reasonable volume of e-mail (you're on various mailing
lists), or you would like to read high-volume mailing lists but cannot
keep up with them, or read high volume newsgroups or are just bored,
then Gnus is what you want.

This FAQ was maintained by Justin Sheehy until March 2002. He would
like to thank Steve Baur and Per Abrahamsen for doing a wonderful job
with this FAQ before him. We would like to do the same - thanks,
Justin!

If you have a Web browser, the official hypertext version is at:
`http://my.gnus.org/FAQ/'.  This version is much nicer than the
unofficial hypertext versions that are archived at Utrecht, Oxford,
Smart Pages, Ohio State, and other FAQ archives. See the resources
question below if you want information on obtaining it in another
format.

The information contained here was compiled with the assistance of the
Gnus development mailing list, and any errors or misprints are the
my.gnus.org team's fault, sorry.



File: gnus, Node: FAQ 1 - Installation FAQ

Installation FAQ
----------------

* Menu:

* [1.1]::    What is the latest version of Gnus?
* [1.2]::    What's new in 5.10?
* [1.3]::    Where and how to get Gnus?
* [1.4]::    What to do with the tarball now?
* [1.5]::    I sometimes read references to No Gnus and Oort Gnus, what
             are those?
* [1.6]::    Which version of Emacs do I need?
* [1.7]::    How do I run Gnus on both Emacs and XEmacs?



File: gnus, Node: [1.1]

Question 1.1
............

What is the latest version of Gnus?


Answer
......

Jingle please: Gnus 5.10 is released, get it while it's hot! As well
as the step in version number is rather small, Gnus 5.10 has tons of
new features which you shouldn't miss. The current release (5.13)
should be at least as stable as the latest release of the 5.8 series.



File: gnus, Node: [1.2]

Question 1.2
............

What's new in 5.10?


Answer
......

First of all, you should have a look into the file GNUS-NEWS in the
toplevel directory of the Gnus tarball, there the most important
changes are listed. Here's a short list of the changes I find
especially important/interesting:


   * Major rewrite of the Gnus agent, Gnus agent is now active by
     default.

   * Many new article washing functions for dealing with ugly
     formatted articles.

   * Anti Spam features.

   * Message-utils now included in Gnus.

   * New format specifiers for summary lines, e.g. %B for a complex
     trn-style thread tree.



File: gnus, Node: [1.3]

Question 1.3
............

Where and how to get Gnus?


Answer
......

Gnus is released independent from releases of Emacs and XEmacs.
Therefore, the version bundled with Emacs or the version in XEmacs'
package system might not be up to date (e.g. Gnus 5.9 bundled with
Emacs 20 is outdated).
You can get the latest released version of Gnus from
`http://www.gnus.org/dist/gnus.tar.gz' or via anonymous FTP from
`ftp://ftp.gnus.org/pub/gnus/gnus.tar.gz'.



File: gnus, Node: [1.4]

Question 1.4
............

What to do with the tarball now?


Answer
......

Untar it via `tar xvzf gnus.tar.gz' and do the common `./configure;
make; make install' circle.  (under MS-Windows either get the Cygwin
environment from `http://www.cygwin.com' which allows you to do what's
described above or unpack the tarball with some packer (e.g. Winace
from `http://www.winace.com') and use the batch-file make.bat included
in the tarball to install Gnus.) If you don't want to (or aren't
allowed to) install Gnus system-wide, you can install it in your home
directory and add the following lines to your ~/.xemacs/init.el or
~/.emacs:

     (add-to-list 'load-path "/path/to/gnus/lisp")
     (if (featurep 'xemacs)
         (add-to-list 'Info-directory-list "/path/to/gnus/texi/")
       (add-to-list 'Info-default-directory-list "/path/to/gnus/texi/"))
@noindent

Make sure that you don't have any Gnus related stuff before this line,
on MS Windows use something like "C:/path/to/lisp" (yes, "/").



File: gnus, Node: [1.5]

Question 1.5
............

I sometimes read references to No Gnus and Oort Gnus, what are those?


Answer
......

Oort Gnus was the name of the development version of Gnus, which
became Gnus 5.10 in autumn 2003. No Gnus is the name of the current
development version which will once become Gnus 5.12 or Gnus 6. (If
you're wondering why not 5.11, the odd version numbers are normally
used for the Gnus versions bundled with Emacs)



File: gnus, Node: [1.6]

Question 1.6
............

Which version of Emacs do I need?


Answer
......

Gnus 5.10 requires an Emacs version that is greater than or equal to
Emacs 20.7 or XEmacs 21.1.  The development versions of Gnus (aka No
Gnus) requires Emacs 21 or XEmacs 21.4.



File: gnus, Node: [1.7]

Question 1.7
............

How do I run Gnus on both Emacs and XEmacs?


Answer
......

You can't use the same copy of Gnus in both as the Lisp files are
byte-compiled to a format which is different depending on which Emacs
did the compilation. Get one copy of Gnus for Emacs and one for
XEmacs.



File: gnus, Node: FAQ 2 - Startup / Group buffer

Startup / Group buffer
----------------------

* Menu:

* [2.1]::    Every time I start Gnus I get a message "Gnus auto-save
             file exists. Do you want to read it?", what does this mean and
             how to prevent it?
* [2.2]::    Gnus doesn't remember which groups I'm subscribed to,
             what's this?
* [2.3]::    How to change the format of the lines in Group buffer?
* [2.4]::    My group buffer becomes a bit crowded, is there a way to
             sort my groups into categories so I can easier browse through
             them?
* [2.5]::    How to manually sort the groups in Group buffer? How to
             sort the groups in a topic?



File: gnus, Node: [2.1]

Question 2.1
............

Every time I start Gnus I get a message "Gnus auto-save file
exists. Do you want to read it?", what does this mean and how to
prevent it?


Answer
......

This message means that the last time you used Gnus, it wasn't
properly exited and therefor couldn't write its informations to disk
(e.g. which messages you read), you are now asked if you want to
restore those informations from the auto-save file.

To prevent this message make sure you exit Gnus via `q' in group
buffer instead of just killing Emacs.



File: gnus, Node: [2.2]

Question 2.2
............

Gnus doesn't remember which groups I'm subscribed to, what's this?


Answer
......

You get the message described in the q/a pair above while starting
Gnus, right? It's an other symptom for the same problem, so read the
answer above.



File: gnus, Node: [2.3]

Question 2.3
............

How to change the format of the lines in Group buffer?


Answer
......

You've got to tweak the value of the variable
gnus-group-line-format. See the manual node "Group Line Specification"
for information on how to do this. An example for this (guess from
whose .gnus :-)):

     (setq gnus-group-line-format "%P%M%S[%5t]%5y : %(%g%)\n")
@noindent



File: gnus, Node: [2.4]

Question 2.4
............

My group buffer becomes a bit crowded, is there a way to sort my
groups into categories so I can easier browse through them?


Answer
......

Gnus offers the topic mode, it allows you to sort your groups in,
well, topics, e.g. all groups dealing with Linux under the topic
linux, all dealing with music under the topic music and all dealing
with scottish music under the topic scottish which is a subtopic of
music.

To enter topic mode, just hit t while in Group buffer. Now you can use
`T n' to create a topic at point and `T m' to move a group to a
specific topic. For more commands see the manual or the menu. You
might want to include the %P specifier at the beginning of your
gnus-group-line-format variable to have the groups nicely indented.



File: gnus, Node: [2.5]

Question 2.5
............

How to manually sort the groups in Group buffer? How to sort the
groups in a topic?


Answer
......

Move point over the group you want to move and hit `C-k', now move
point to the place where you want the group to be and hit `C-y'.



File: gnus, Node: FAQ 3 - Getting Messages

Getting Messages
----------------

* Menu:

* [3.1]::     I just installed Gnus, started it via  `M-x gnus'
              but it only says "nntp (news) open error", what to do?
* [3.2]::     I'm working under Windows and have no idea what ~/.gnus.el
              means.
* [3.3]::     My news server requires authentication, how to store user
              name and password on disk?
* [3.4]::     Gnus seems to start up OK, but I can't find out how to
              subscribe to a group.
* [3.5]::     Gnus doesn't show all groups / Gnus says I'm not allowed
              to post on this server as well as I am, what's that?
* [3.6]::     I want Gnus to fetch news from several servers, is this
              possible?
* [3.7]::     And how about local spool files?
* [3.8]::     OK, reading news works now, but I want to be able to read
              my mail with Gnus, too. How to do it?
* [3.9]::     And what about IMAP?
* [3.10]::    At the office we use one of those MS Exchange servers, can
              I use Gnus to read my mail from it?
* [3.11]::    Can I tell Gnus not to delete the mails on the server it
              retrieves via POP3?



File: gnus, Node: [3.1]

Question 3.1
............

I just installed Gnus, started it via `M-x gnus' but it only says
nntp (news) open error", what to do?


Answer
......

You've got to tell Gnus where to fetch the news from. Read the
documentation for information on how to do this. As a first start, put
those lines in ~/.gnus.el:

     (setq gnus-select-method '(nntp "news.yourprovider.net"))
     (setq user-mail-address "you@yourprovider.net")
     (setq user-full-name "Your Name")
@noindent



File: gnus, Node: [3.2]

Question 3.2
............

I'm working under Windows and have no idea what ~/.gnus.el means.


Answer
......

The ~/ means the home directory where Gnus and Emacs look for the
configuration files.  However, you don't really need to know what this
means, it suffices that Emacs knows what it means :-) You can type
`C-x C-f ~/.gnus.el RET ' (yes, with the forward slash, even on
Windows), and Emacs will open the right file for you.  (It will most
likely be new, and thus empty.)  However, I'd discourage you from
doing so, since the directory Emacs chooses will most certainly not be
what you want, so let's do it the correct way.  The first thing you've
got to do is to create a suitable directory (no blanks in directory
name please) e.g. c:\myhome. Then you must set the environment
variable HOME to this directory.  To do this under Win9x or Me include
the line

     SET HOME=C:\myhome
@noindent

in your autoexec.bat and reboot.  Under NT, 2000 and XP, hit
Winkey+Pause/Break to enter system options (if it doesn't work, go to
Control Panel -> System -> Advanced). There you'll find the
possibility to set environment variables.  Create a new one with name
HOME and value C:\myhome.  Rebooting is not necessary.

Now to create ~/.gnus.el, say `C-x C-f ~/.gnus.el RET C-x C-s'.  in
Emacs.



File: gnus, Node: [3.3]

Question 3.3
............

My news server requires authentication, how to store user name and
password on disk?


Answer
......

Create a file ~/.authinfo which includes for each server a line like
this

     machine news.yourprovider.net login YourUserName password YourPassword
.
Make sure that the file isn't readable to others if you work on a OS
which is capable of doing so.  (Under Unix say
     chmod 600 ~/.authinfo
@noindent

in a shell.)



File: gnus, Node: [3.4]

Question 3.4
............

Gnus seems to start up OK, but I can't find out how to subscribe to a
group.


Answer
......

If you know the name of the group say `U name.of.group RET' in group
buffer (use the tab-completion Luke). Otherwise hit ^ in group buffer,
this brings you to the server buffer. Now place point (the cursor)
over the server which carries the group you want, hit `RET', move
point to the group you want to subscribe to and say `u' to subscribe
to it.



File: gnus, Node: [3.5]

Question 3.5
............

Gnus doesn't show all groups / Gnus says I'm not allowed to post on
this server as well as I am, what's that?


Answer
......

Some providers allow restricted anonymous access and full access only
after authorization. To make Gnus send authinfo to those servers
append

     force yes
@noindent

to the line for those servers in ~/.authinfo.



File: gnus, Node: [3.6]

Question 3.6
............

I want Gnus to fetch news from several servers, is this possible?


Answer
......

Of course. You can specify more sources for articles in the variable
gnus-secondary-select-methods. Add something like this in ~/.gnus.el:

     (add-to-list 'gnus-secondary-select-methods
                  '(nntp "news.yourSecondProvider.net"))
     (add-to-list 'gnus-secondary-select-methods
                  '(nntp "news.yourThirdProvider.net"))
@noindent



File: gnus, Node: [3.7]

Question 3.7
............

And how about local spool files?


Answer
......

No problem, this is just one more select method called nnspool, so you
want this:

     (add-to-list 'gnus-secondary-select-methods '(nnspool ""))
@noindent

Or this if you don't want an NNTP Server as primary news source:

     (setq gnus-select-method '(nnspool ""))
@noindent

Gnus will look for the spool file in /usr/spool/news, if you want
something different, change the line above to something like this:

     (add-to-list 'gnus-secondary-select-methods
                  '(nnspool ""
                       (nnspool-directory "/usr/local/myspoolddir")))
@noindent

This sets the spool directory for this server only.  You might have to
specify more stuff like the program used to post articles, see the
Gnus manual on how to do this.



File: gnus, Node: [3.8]

Question 3.8
............

OK, reading news works now, but I want to be able to read my mail with
Gnus, too. How to do it?


Answer
......

That's a bit harder since there are many possible sources for mail,
many possible ways for storing mail and many different ways for
sending mail. The most common cases are these: 1: You want to read
your mail from a pop3 server and send them directly to a SMTP Server
2: Some program like fetchmail retrieves your mail and stores it on
disk from where Gnus shall read it. Outgoing mail is sent by Sendmail,
Postfix or some other MTA. Sometimes, you even need a combination of
the above cases.

However, the first thing to do is to tell Gnus in which way it should
store the mail, in Gnus terminology which back end to use. Gnus
supports many different back ends, the most commonly used one is
nnml. It stores every mail in one file and is therefor quite
fast. However you might prefer a one file per group approach if your
file system has problems with many small files, the nnfolder back end
is then probably the choice for you.  To use nnml add the following to
~/.gnus.el:

     (add-to-list 'gnus-secondary-select-methods '(nnml ""))
@noindent

As you might have guessed, if you want nnfolder, it's

     (add-to-list 'gnus-secondary-select-methods '(nnfolder ""))
@noindent

Now we need to tell Gnus, where to get it's mail from. If it's a POP3
server, then you need something like this:

     (eval-after-load "mail-source"
       '(add-to-list 'mail-sources '(pop :server "pop.YourProvider.net"
                                         :user "yourUserName"
                                         :password "yourPassword")))
@noindent

Make sure ~/.gnus.el isn't readable to others if you store your
password there. If you want to read your mail from a traditional spool
file on your local machine, it's

     (eval-after-load "mail-source"
       '(add-to-list 'mail-sources '(file :path "/path/to/spool/file"))
@noindent

If it's a Maildir, with one file per message as used by postfix, Qmail
and (optionally) fetchmail it's

     (eval-after-load "mail-source"
       '(add-to-list 'mail-sources '(maildir :path "/path/to/Maildir/"
                                             :subdirs ("cur" "new")))
@noindent

And finally if you want to read your mail from several files in one
directory, for example because procmail already split your mail, it's

     (eval-after-load "mail-source"
       '(add-to-list 'mail-sources
                '(directory :path "/path/to/procmail-dir/"
                            :suffix ".prcml")))
@noindent

Where :suffix ".prcml" tells Gnus only to use files with the
suffix .prcml.

OK, now you only need to tell Gnus how to send mail. If you want to
send mail via sendmail (or whichever MTA is playing the role of
sendmail on your system), you don't need to do anything. However, if
you want to send your mail to an SMTP Server you need the following in
your ~/.gnus.el

     (setq send-mail-function 'smtpmail-send-it)
     (setq message-send-mail-function 'smtpmail-send-it)
     (setq smtpmail-default-smtp-server "smtp.yourProvider.net")
@noindent



File: gnus, Node: [3.9]

Question 3.9
............

And what about IMAP?


Answer
......

There are two ways of using IMAP with Gnus. The first one is to use
IMAP like POP3, that means Gnus fetches the mail from the IMAP server
and stores it on disk. If you want to do this (you don't really want
to do this) add the following to ~/.gnus.el

     (add-to-list 'mail-sources '(imap :server "mail.mycorp.com"
                                       :user "username"
                                       :pass "password"
                                       :stream network
                                       :authentication login
                                       :mailbox "INBOX"
                                       :fetchflag "\\Seen"))
@noindent

You might have to tweak the values for stream and/or authentication,
see the Gnus manual node "Mail Source Specifiers" for possible values.

If you want to use IMAP the way it's intended, you've got to follow a
different approach.  You've got to add the nnimap back end to your
select method and give the information about the server there.

     (add-to-list 'gnus-secondary-select-methods
             '(nnimap "Give the baby a name"
                      (nnimap-address "imap.yourProvider.net")
                      (nnimap-port 143)
                      (nnimap-list-pattern "archive.*")))
@noindent

Again, you might have to specify how to authenticate to the server if
Gnus can't guess the correct way, see the Manual Node "IMAP" for
detailed information.



File: gnus, Node: [3.10]

Question 3.10
.............

At the office we use one of those MS Exchange servers, can I use Gnus
to read my mail from it?


Answer
......

Offer your administrator a pair of new running shoes for activating
IMAP on the server and follow the instructions above.



File: gnus, Node: [3.11]

Question 3.11
.............

Can I tell Gnus not to delete the mails on the server it retrieves via
POP3?


Answer
......

First of all, that's not the way POP3 is intended to work, if you have
the possibility, you should use the IMAP Protocol if you want your
messages to stay on the server. Nevertheless there might be situations
where you need the feature, but sadly Gnus itself has no predefined
functionality to do so.

However this is Gnus county so there are possibilities to achieve what
you want. The easiest way is to get an external program which
retrieves copies of the mail and stores them on disk, so Gnus can read
it from there. On Unix systems you could use e.g. fetchmail for this,
on MS Windows you can use Hamster, an excellent local news and mail
server.

The other solution would be, to replace the method Gnus uses to get
mail from POP3 servers by one which is capable of leaving the mail on
the server. If you use XEmacs, get the package mail-lib, it includes
an enhanced pop3.el, look in the file, there's documentation on how to
tell Gnus to use it and not to delete the retrieved mail. For GNU
Emacs look for the file epop3.el which can do the same (If you know
the home of this file, please send me an e-mail). You can also tell
Gnus to use an external program (e.g. fetchmail) to fetch your mail,
see the info node "Mail Source Specifiers" in the Gnus manual on how
to do it.



File: gnus, Node: FAQ 4 - Reading messages

Reading messages
----------------

* Menu:

* [4.1]::     When I enter a group, all read messages are gone. How to
              view them again?
* [4.2]::     How to tell Gnus to show an important message every time I
              enter a group, even when it's read?
* [4.3]::     How to view the headers of a message?
* [4.4]::     How to view the raw unformatted message?
* [4.5]::     How can I change the headers Gnus displays by default at
              the top of the article buffer?
* [4.6]::     I'd like Gnus NOT to render HTML-mails but show me the
              text part if it's available. How to do it?
* [4.7]::     Can I use some other browser than w3 to render my
              HTML-mails?
* [4.8]::     Is there anything I can do to make poorly formatted mails
              more readable?
* [4.9]::     Is there a way to automatically ignore posts by specific
              authors or with specific words in the subject? And can I highlight
              more interesting ones in some way?
* [4.10]::    How can I disable threading in some (e.g. mail-) groups,
              or set other variables specific for some groups?
* [4.11]::    Can I highlight messages written by me and follow-ups to
              those?
* [4.12]::    The number of total messages in a group which Gnus
              displays in group buffer is by far to high, especially in mail
              groups. Is this a bug?
* [4.13]::    I don't like the layout of summary and article buffer, how
              to change it? Perhaps even a three pane display?
* [4.14]::    I don't like the way the Summary buffer looks, how to
              tweak it?
* [4.15]::    How to split incoming mails in several groups?



File: gnus, Node: [4.1]

Question 4.1
............

When I enter a group, all read messages are gone. How to view them
again?


Answer
......

If you enter the group by saying
`RET'
in group buffer with point over the group, only unread and ticked messages are loaded. Say
`C-u RET'
instead to load all available messages. If you want only the e.g. 300 newest say
`C-u 300 RET'

Loading only unread messages can be annoying if you have threaded view
enabled, say

     (setq gnus-fetch-old-headers 'some)
@noindent

in ~/.gnus.el to load enough old articles to prevent teared threads,
replace 'some with t to load all articles (Warning: Both settings
enlarge the amount of data which is fetched when you enter a group and
slow down the process of entering a group).

If you already use Gnus 5.10, you can say `/o N' In summary buffer to
load the last N messages, this feature is not available in 5.8.8

If you don't want all old messages, but the parent of the message
you're just reading, you can say `^', if you want to retrieve the
whole thread the message you're just reading belongs to, `A T' is your
friend.



File: gnus, Node: [4.2]

Question 4.2
............

How to tell Gnus to show an important message every time I enter a
group, even when it's read?


Answer
......

You can tick important messages. To do this hit `u' while point is in
summary buffer over the message. When you want to remove the mark, hit
either `d' (this deletes the tick mark and set's unread mark) or `M c'
(which deletes all marks for the message).



File: gnus, Node: [4.3]

Question 4.3
............

How to view the headers of a message?


Answer
......

Say `t' to show all headers, one more `t' hides them again.



File: gnus, Node: [4.4]

Question 4.4
............

How to view the raw unformatted message?


Answer
......

Say `C-u g' to show the raw message `g' returns to normal view.



File: gnus, Node: [4.5]

Question 4.5
............

How can I change the headers Gnus displays by default at the top of
the article buffer?


Answer
......

The variable gnus-visible-headers controls which headers are shown,
its value is a regular expression, header lines which match it are
shown. So if you want author, subject, date, and if the header exists,
Followup-To and MUA / NUA say this in ~/.gnus.el:

     (setq gnus-visible-headers
           '("^From" "^Subject" "^Date" "^Newsgroups" "^Followup-To"
        "^User-Agent" "^X-Newsreader" "^X-Mailer"))
@noindent



File: gnus, Node: [4.6]

Question 4.6
............

I'd like Gnus NOT to render HTML-mails but show me the text part if
it's available. How to do it?


Answer
......

Say

     (eval-after-load "mm-decode"
      '(progn
           (add-to-list 'mm-discouraged-alternatives "text/html")
           (add-to-list 'mm-discouraged-alternatives "text/richtext")))
@noindent

in ~/.gnus.el. If you don't want HTML rendered, even if there's no
text alternative add

     (setq mm-automatic-display (remove "text/html" mm-automatic-display))
@noindent

too.



File: gnus, Node: [4.7]

Question 4.7
............

Can I use some other browser than w3 to render my HTML-mails?


Answer
......

Only if you use Gnus 5.10 or younger. In this case you've got the
choice between w3, w3m, links, lynx and html2text, which one is used
can be specified in the variable mm-text-html-renderer, so if you want
links to render your mail say

     (setq mm-text-html-renderer 'links)
@noindent



File: gnus, Node: [4.8]

Question 4.8
............

Is there anything I can do to make poorly formatted mails more
readable?


Answer
......

Gnus offers you several functions to "wash" incoming mail, you can
find them if you browse through the menu, item Article->Washing. The
most interesting ones are probably "Wrap long lines" (`W w'), "Decode
ROT13" (`W r') and "Outlook Deuglify" which repairs the dumb quoting
used by many users of Microsoft products (`W Y f' gives you full
deuglify.  See `W Y C-h' or have a look at the menus for other
deuglifications).  Outlook deuglify is only available since Gnus 5.10.



File: gnus, Node: [4.9]

Question 4.9
............

Is there a way to automatically ignore posts by specific authors or
with specific words in the subject? And can I highlight more
interesting ones in some way?


Answer
......

You want Scoring. Scoring means, that you define rules which assign
each message an integer value. Depending on the value the message is
highlighted in summary buffer (if it's high, say +2000) or
automatically marked read (if the value is low, say -800) or some
other action happens.

There are basically three ways of setting up rules which assign
the scoring-value to messages. The first and easiest way is to set
up rules based on the article you are just reading. Say you're
reading a message by a guy who always writes nonsense and you want
to ignore his messages in the future. Hit
`L', to set up a rule which lowers the score.
Now Gnus asks you which the criteria for lowering the Score shall
be. Hit `?' twice to see all possibilities,
we want `a' which means the author (the from
header). Now Gnus wants to know which kind of matching we want.
Hit either `e' for an exact match or
`s' for substring-match and delete afterwards
everything but the name to score down all authors with the given
name no matter which email address is used. Now you need to tell
Gnus when to apply the rule and how long it should last, hit e.g.
`p' to apply the rule now and let it last
forever. If you want to raise the score instead of lowering it say
`I' instead of `L'.

You can also set up rules by hand. To do this say `V f' in summary
buffer. Then you are asked for the name of the score file, it's
name.of.group.SCORE for rules valid in only one group or all.Score for
rules valid in all groups. See the Gnus manual for the exact syntax,
basically it's one big list whose elements are lists again. the first
element of those lists is the header to score on, then one more list
with what to match, which score to assign, when to expire the rule and
how to do the matching. If you find me very interesting, you could
e.g. add the following to your all.Score:

     (("references" ("hschmi22.userfqdn.rz-online.de" 500 nil s))
      ("message-id" ("hschmi22.userfqdn.rz-online.de" 999 nil s)))
@noindent

This would add 999 to the score of messages written by me and 500 to
the score of messages which are a (possibly indirect) answer to a
message written by me. Of course nobody with a sane mind would do this
:-)

The third alternative is adaptive scoring. This means Gnus watches you
and tries to find out what you find interesting and what annoying and
sets up rules which reflect this. Adaptive scoring can be a huge help
when reading high traffic groups. If you want to activate adaptive
scoring say

     (setq gnus-use-adaptive-scoring t)
@noindent

in ~/.gnus.el.



File: gnus, Node: [4.10]

Question 4.10
.............

How can I disable threading in some (e.g. mail-) groups, or set other
variables specific for some groups?


Answer
......

While in group buffer move point over the group and hit `G c', this
opens a buffer where you can set options for the group. At the bottom
of the buffer you'll find an item that allows you to set variables
locally for the group. To disable threading enter gnus-show-threads as
name of variable and nil as value. Hit button done at the top of the
buffer when you're ready.



File: gnus, Node: [4.11]

Question 4.11
.............

Can I highlight messages written by me and follow-ups to those?


Answer
......

Stop those "Can I ..." questions, the answer is always yes
in Gnus Country :-). It's a three step process: First we
make faces (specifications of how summary-line shall look
like) for those postings, then we'll give them some
special score and finally we'll tell Gnus to use the new
faces. You can find detailed instructions on how to do it on
my.gnus.org (http://my.gnus.org/node/view/224)



File: gnus, Node: [4.12]

Question 4.12
.............

The number of total messages in a group which Gnus displays in group
buffer is by far to high, especially in mail groups. Is this a bug?


Answer
......

No, that's a matter of design of Gnus, fixing this would mean
reimplementation of major parts of Gnus' back ends. Gnus thinks
highest-article-number - lowest-article-number =
total-number-of-articles". This works OK for Usenet groups, but if you
delete and move many messages in mail groups, this fails. To cure the
symptom, enter the group via `C-u RET' (this makes Gnus get all
messages), then hit `M P b' to mark all messages and then say `B m
name.of.group' to move all messages to the group they have been in
before, they get new message numbers in this process and the count is
right again (until you delete and move your mail to other groups
again).



File: gnus, Node: [4.13]

Question 4.13
.............

I don't like the layout of summary and article buffer, how to change
it? Perhaps even a three pane display?


Answer
......

You can control the windows configuration by calling the function
gnus-add-configuration. The syntax is a bit complicated but explained
very well in the manual node "Window Layout". Some popular examples:

Instead 25% summary 75% article buffer 35% summary and 65% article
(the 1.0 for article means "take the remaining space"):

     (gnus-add-configuration
      '(article (vertical 1.0 (summary .35 point) (article 1.0))))
@noindent

A three pane layout, Group buffer on the left, summary buffer
top-right, article buffer bottom-right:

     (gnus-add-configuration
      '(article
        (horizontal 1.0
               (vertical 25
                         (group 1.0))
               (vertical 1.0
                         (summary 0.25 point)
                         (article 1.0)))))
     (gnus-add-configuration
      '(summary
        (horizontal 1.0
               (vertical 25
                         (group 1.0))
               (vertical 1.0
                         (summary 1.0 point)))))
@noindent



File: gnus, Node: [4.14]

Question 4.14
.............

I don't like the way the Summary buffer looks, how to tweak it?


Answer
......

You've got to play around with the variable
gnus-summary-line-format. It's value is a string of symbols which
stand for things like author, date, subject etc. A list of the
available specifiers can be found in the manual node "Summary Buffer
Lines" and the often forgotten node "Formatting Variables" and it's
sub-nodes. There you'll find useful things like positioning the cursor
and tabulators which allow you a summary in table form, but sadly hard
tabulators are broken in 5.8.8.

Since 5.10, Gnus offers you some very nice new specifiers, e.g. %B
which draws a thread-tree and %&user-date which gives you a date where
the details are dependent of the articles age. Here's an example which
uses both:

     (setq gnus-summary-line-format ":%U%R %B %s %-60=|%4L |%-20,20f |%&user-date; \n")
@noindent

resulting in:

     :O     Re: [Richard Stallman] rfc2047.el          |  13 |Lars Magne Ingebrigt |Sat 23:06
     :O     Re: Revival of the ding-patches list       |  13 |Lars Magne Ingebrigt |Sat 23:12
     :R  >  Re: Find correct list of articles for a gro|  25 |Lars Magne Ingebrigt |Sat 23:16
     :O  \->  ...                                      |  21 |Kai Grossjohann      | 0:01
     :R  >  Re: Cry for help: deuglify.el - moving stuf|  28 |Lars Magne Ingebrigt |Sat 23:34
     :O  \->  ...                                      | 115 |Raymond Scholz       | 1:24
     :O    \->  ...                                    |  19 |Lars Magne Ingebrigt |15:33
     :O     Slow mailing list                          |  13 |Lars Magne Ingebrigt |Sat 23:49
     :O     Re: `@' mark not documented                |  13 |Lars Magne Ingebrigt |Sat 23:50
     :R  >  Re: Gnus still doesn't count messages prope|  23 |Lars Magne Ingebrigt |Sat 23:57
     :O  \->  ...                                      |  18 |Kai Grossjohann      | 0:35
     :O    \->  ...                                    |  13 |Lars Magne Ingebrigt | 0:56
@noindent



File: gnus, Node: [4.15]

Question 4.15
.............

How to split incoming mails in several groups?


Answer
......

Gnus offers two possibilities for splitting mail, the easy
nnmail-split-methods and the more powerful Fancy Mail Splitting. I'll
only talk about the first one, refer to the manual, node "Fancy Mail
Splitting" for the latter.

The value of nnmail-split-methods is a list, each element is a list
which stands for a splitting rule. Each rule has the form "group where
matching articles should go to", "regular expression which has to be
matched", the first rule which matches wins. The last rule must always
be a general rule (regular expression .*) which denotes where articles
should go which don't match any other rule. If the folder doesn't
exist yet, it will be created as soon as an article lands there.  By
default the mail will be send to all groups whose rules match. If you
don't want that (you probably don't want), say

     (setq nnmail-crosspost nil)
@noindent

in ~/.gnus.el.

An example might be better than thousand words, so here's my
nnmail-split-methods. Note that I send duplicates in a special group
and that the default group is spam, since I filter all mails out which
are from some list I'm subscribed to or which are addressed directly
to me before. Those rules kill about 80% of the Spam which reaches me
(Email addresses are changed to prevent spammers from using them):

     (setq nnmail-split-methods
       '(("duplicates" "^Gnus-Warning:.*duplicate")
         ("XEmacs-NT" "^\\(To:\\|CC:\\).*localpart@xemacs.invalid.*")
         ("Gnus-Tut" "^\\(To:\\|CC:\\).*localpart@socha.invalid.*")
         ("tcsh" "^\\(To:\\|CC:\\).*localpart@mx.gw.invalid.*")
         ("BAfH" "^\\(To:\\|CC:\\).*localpart@.*uni-muenchen.invalid.*")
         ("Hamster-src" "^\\(CC:\\|To:\\).*hamster-sourcen@yahoogroups.\\(de\\|com\\).*")
         ("Tagesschau" "^From: tagesschau <localpart@www.tagesschau.invalid>$")
         ("Replies" "^\\(CC:\\|To:\\).*localpart@Frank-Schmitt.invalid.*")
         ("EK" "^From:.*\\(localpart@privateprovider.invalid\\|localpart@workplace.invalid\\).*")
         ("Spam" "^Content-Type:.*\\(ks_c_5601-1987\\|EUC-KR\\|big5\\|iso-2022-jp\\).*")
         ("Spam" "^Subject:.*\\(This really work\\|XINGA\\|ADV:\\|XXX\\|adult\\|sex\\).*")
         ("Spam" "^Subject:.*\\(\=\?ks_c_5601-1987\?\\|\=\?euc-kr\?\\|\=\?big5\?\\).*")
         ("Spam" "^X-Mailer:\\(.*BulkMailer.*\\|.*MIME::Lite.*\\|\\)")
         ("Spam" "^X-Mailer:\\(.*CyberCreek Avalanche\\|.*http\:\/\/GetResponse\.com\\)")
         ("Spam" "^From:.*\\(verizon\.net\\|prontomail\.com\\|money\\|ConsumerDirect\\).*")
         ("Spam" "^Delivered-To: GMX delivery to spamtrap@gmx.invalid$")
         ("Spam" "^Received: from link2buy.com")
         ("Spam" "^CC: .*azzrael@t-online.invalid")
         ("Spam" "^X-Mailer-Version: 1.50 BETA")
         ("Uni" "^\\(CC:\\|To:\\).*localpart@uni-koblenz.invalid.*")
         ("Inbox" "^\\(CC:\\|To:\\).*\\(my\ name\\|address@one.invalid\\|adress@two.invalid\\)")
         ("Spam" "")))



File: gnus, Node: FAQ 5 - Composing messages

Composing messages
------------------

* Menu:

* [5.1]::     What are the basic commands I need to know for sending
              mail and postings?
* [5.2]::     How to enable automatic word-wrap when composing messages?
* [5.3]::     How to set stuff like From, Organization, Reply-To,
              signature...?
* [5.4]::     Can I set things like From, Signature etc group based on
              the group I post too?
* [5.5]::     Is there a spell-checker? Perhaps even on-the-fly
              spell-checking?
* [5.6]::     Can I set the dictionary based on the group I'm posting
              to?
* [5.7]::     Is there some kind of address-book, so I needn't remember
              all those email addresses?
* [5.8]::     Sometimes I see little images at the top of article
              buffer. What's that and how can I send one with my postings, too?
* [5.9]::     Sometimes I accidentally hit r instead of f in newsgroups.
              Can Gnus warn me, when I'm replying by mail in newsgroups?
* [5.10]::    How to tell Gnus not to generate a sender header?
* [5.11]::    I want Gnus to locally store copies of my send mail and
              news, how to do it?
* [5.12]::    People tell me my Message-IDs are not correct, why aren't
              they and how to fix it?



